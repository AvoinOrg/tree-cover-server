{% extends "base.html" %}

<!--
- want a ul, probably with some pagination
- want to introduce some ifelse or gradient logic for the colours
https://www.google.com/maps/search/?api=1&query=-24.690932,150.9439172&zoom=18&basemap=sattelite
-->

{% block content %}
{{ super() }}
<div class="container">
    <div class="page-header">
        <h1>Analysis of {{ file_name }}</h1>
        Clicking a row opens the location in Google Maps
    </div>
    <table class="table table-hover table-sm table-active">
      <thead>
        <tr>
          <th scope="col">plot ID</th>
          <th scope="col">Longitude</th>
          <th scope="col">Latitude</th>
          <th scope="col">Operator</th>
          <th scope="col">Predicted</th>
        </tr>
      </thead>
      <tbody>
        {% for t_cls, id, lon, lat, man, pred in data.itertuples(index=False) %}
        <tr class={{ t_cls }} onclick={window.open("https://www.google.com/maps/search/?api=1&query="+{{lat}}+","+{{lon}}+"&zoom=18&basemap=sattelite")}>
          <th scope="row">{{ id }}</th>
          <td>{{ lon }}</td>
          <td>{{ lat }}</td>
          <td>{{ man }}</td>
          <td>{{ pred }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <button type="button">Download results (not working)</button>
</div>
{% endblock %}
